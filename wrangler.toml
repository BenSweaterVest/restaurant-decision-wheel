# Cloudflare Pages Configuration
name = "restaurant-picker"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Test environment variables
[vars]
ADMIN_PASSWORD = "test-password-123"
JWT_SECRET = "test-jwt-secret-key-minimum-32-characters-long-for-security"

# Enable Pages Functions
pages_build_output_dir = "."

# Build configuration - installs dependencies for Functions
[build]
command = "cd functions && npm install"

# Environment variables (set these in Cloudflare Dashboard)
# ADMIN_PASSWORD - Admin authentication password
# JWT_SECRET - Secret key for signing JWT tokens (minimum 32 characters)
# GITHUB_TOKEN - GitHub Personal Access Token
# GITHUB_REPO - Repository in "owner/repo" format
# GITHUB_BRANCH - Target branch for data persistence

[env.production]
# Production environment settings

[env.preview]
# Preview environment settings (for PR deployments)
